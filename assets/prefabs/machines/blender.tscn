[gd_scene load_steps=10 format=3 uid="uid://2g7ib2rvd6ya"]

[ext_resource type="Script" path="res://assets/scripts/blender.gd" id="1_2xnpc"]
[ext_resource type="PackedScene" uid="uid://l7mkfb58c3n7" path="res://assets/Room/Blender.glb" id="1_fxwsn"]
[ext_resource type="AnimationNodeStateMachine" uid="uid://b3b6xi7bmpdwu" path="res://assets/animations/blender_state_machine.tres" id="2_arb5q"]
[ext_resource type="Script" path="res://assets/scripts/progress_sprite.gd" id="4_byabr"]
[ext_resource type="Texture2D" uid="uid://cqm5npsslwh7r" path="res://assets/Room/circle.png" id="5_iaxip"]
[ext_resource type="PackedScene" uid="uid://7jyaboql1xq3" path="res://assets/prefabs/machines/item_in_machine.tscn" id="6_0flkr"]
[ext_resource type="Script" path="res://assets/scripts/activator.gd" id="7_hp2mf"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_brysh"]
height = 1.82851

[sub_resource type="BoxShape3D" id="BoxShape3D_iwu44"]
size = Vector3(1.52979, 1, 1.3773)

[node name="Blender" type="Node3D" node_paths=PackedStringArray("animation_tree", "item_in_machine", "progress_bar")]
script = ExtResource("1_2xnpc")
animation_tree = NodePath("Blender/AnimationTree")
item_in_machine = NodePath("Blender/ItemInMachine")
progress_bar = NodePath("Blender/BlenderArmature/Skeleton3D/BoneAttachment3D/ProgressSprite/SubViewport/TextureProgressBar")

[node name="Blender" parent="." instance=ExtResource("1_fxwsn")]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, 0, 0, 0)

[node name="Skeleton3D" parent="Blender/BlenderArmature" index="0"]
bones/1/rotation = Quaternion(6.42225e-08, 7.38495e-08, -0.759723, 0.650247)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Blender/BlenderArmature/Skeleton3D" index="1"]
transform = Transform3D(0.973883, -0.227049, -4.24343e-08, 0.227049, 0.973883, 9.70326e-08, 1.92949e-08, -1.04133e-07, 1, 0, 0, 0)
bone_name = "Bone"
bone_idx = 0

[node name="ProgressSprite" type="Sprite3D" parent="Blender/BlenderArmature/Skeleton3D/BoneAttachment3D"]
transform = Transform3D(-3.38816e-09, -0.0155022, 0.97089, 6.24663e-09, 0.062836, 0.239527, -0.0547673, 8.12597e-09, -3.2744e-08, 0.548462, 0.433974, 5.88226e-08)
script = ExtResource("4_byabr")

[node name="SubViewport" type="SubViewport" parent="Blender/BlenderArmature/Skeleton3D/BoneAttachment3D/ProgressSprite"]
transparent_bg = true

[node name="TextureProgressBar" type="TextureProgressBar" parent="Blender/BlenderArmature/Skeleton3D/BoneAttachment3D/ProgressSprite/SubViewport"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -90.0
offset_top = -90.0
offset_right = 90.0
offset_bottom = 90.0
grow_horizontal = 2
grow_vertical = 2
value = 40.0
fill_mode = 4
texture_progress = ExtResource("5_iaxip")
tint_under = Color(1, 1, 1, 0)
tint_over = Color(1, 1, 1, 0)
tint_progress = Color(0.215686, 0.678431, 0, 1)

[node name="AnimationTree" type="AnimationTree" parent="Blender"]
tree_root = ExtResource("2_arb5q")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/conditions/is_open = false
parameters/conditions/is_working = false
parameters/conditions/not_working = false

[node name="Area3D" type="Area3D" parent="Blender" node_paths=PackedStringArray("hint_source")]
transform = Transform3D(1, -4.11751e-15, 3.55271e-15, -4.11751e-15, 1, 0, 0, 0, 1, 0, 0, 0)
script = ExtResource("7_hp2mf")
hint_source = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Blender/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.920842, 0)
shape = SubResource("CylinderShape3D_brysh")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Blender/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.498484, 0)
shape = SubResource("BoxShape3D_iwu44")

[node name="ItemInMachine" parent="Blender" instance=ExtResource("6_0flkr")]
transform = Transform3D(1.42857, 0, 0, 0, 1.42857, 0, 0, 0, 1.42857, -0.142898, 2.53223, 0)

[connection signal="activated" from="Blender/Area3D" to="." method="_activated"]
[connection signal="picked" from="Blender/ItemInMachine" to="." method="_item_picked"]
[connection signal="placed" from="Blender/ItemInMachine" to="." method="_item_placed"]

[editable path="Blender"]
